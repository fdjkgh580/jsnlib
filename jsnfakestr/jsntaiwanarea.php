<?
//台灣行政區域
class Jsntaiwanarea {
	
	//查找城市或市區的鍵值(編號)
	function search($city_or_area, $search_string){
		
		$return_array = array();
		
		if (empty($search_string)) die("第二個參數請勿空白");

		//找城市
		if ($city_or_area == "city") {
			$DataList = $this->data_city();
			if (is_array($DataList)) {
				foreach ($DataList as $key => $val) {
					$rmval = str_replace(" ", NULL, $val); //去除字間的空白
					$num = substr_count($rmval, $search_string); //出現的次數
					if ($num > 0) $return_array[$key] = $val;
					}
				}
			}

		//找區域
		elseif ($city_or_area == "area") {
			$DataList = $this->data_area();
			if (is_array($DataList)) {
				foreach ($DataList as $citykey => $areagroup) {
					foreach ($areagroup as $areakey => $areaname) {
						$rmareaname	= str_replace(" ", NULL, $areaname); //去除字間的空白
						$num 		= substr_count($rmareaname, $search_string); //出現的次數
						if ($num > 0) $return_array[$areakey] = $areaname;
						}
					}
				}
			}

		else die("請指定第一個參數為city或area。");
		
		return $return_array;
		}
	
	//取得城市名稱
	function city ($city_val) {
		$C = $this->data_city();
		return $C[$city_val];
		}
		
	//取得區域名稱	
	function area ($city_val, $area_val) {
		$A = $this->data_area();
		return $A[$city_val][$area_val];
		}
	
	//取得某城市下的所有區域
	function all_area ($city_val) {
		$A = $this->data_area();
		return $A[$city_val];
		}
	
	
	//城市陣列
	function data_city() {
		return array(
			"1001" => "臺北市",
			"1002" => "基隆市",
			"1003" => "新北市",
			"1004" => "宜蘭縣",
			"1005" => "新竹市",
			"1006" => "新竹縣",
			"1007" => "桃園縣",
			"1008" => "苗栗縣",
			"1009" => "臺中市",
			"1010" => "彰化縣",
			"1011" => "南投縣",
			"1012" => "嘉義市",
			"1013" => "嘉義縣",
			"1014" => "雲林縣",
			"1015" => "臺南市",
			"1016" => "高雄市",
			"1017" => "南海諸島",
			"1018" => "澎湖縣",
			"1019" => "屏東縣",
			"1020" => "臺東縣",
			"1021" => "花蓮縣",
			"1022" => "金門縣",
			"1023" => "連江縣",
			);
		}
	
	//區域陣列
	function data_area(){
		return array(	
			/*  開始  */		
			"1001" => array(
							"100" => "中正區",
							"103" => "大同區",
							"104" => "中山區",
							"105" => "松山區",
							"106" => "大安區",
							"108" => "萬華區",
							"110" => "信義區",
							"111" => "士林區",
							"112" => "北投區",
							"114" => "內湖區",
							"115" => "南港區",
							"116" => "文山區",
							),
			"1002" => array(
							"200" => "仁愛區",
							"201" => "信義區",
							"202" => "中正區",
							"203" => "中山區",
							"204" => "安樂區",
							"205" => "暖暖區",
							"206" => "七堵區",
							),
			"1003" => array(
							"207" => "萬里區",
							"208" => "金山區",
							"220" => "板橋區",
							"221" => "汐止區",
							"222" => "深坑區",
							"223" => "石碇區",
							"224" => "瑞芳區",
							"226" => "平溪區",
							"227" => "雙溪區",
							"228" => "貢寮區",
							"231" => "新店區",
							"232" => "坪林區",
							"233" => "烏來區",
							"234" => "永和區",
							"235" => "中和區",
							"236" => "土城區",
							"237" => "三峽區",
							"238" => "樹林區",
							"239" => "鶯歌區",
							"241" => "三重區",
							"242" => "新莊區",
							"243" => "泰山區",
							"244" => "林口區",
							"247" => "蘆洲區",
							"248" => "五股區",
							"249" => "八里區",
							"251" => "淡水區",
							"252" => "三芝區",
							"253" => "石門區",
							),
			"1004" => array(
							"260" => "宜  蘭",
							"261" => "頭  城",
							"262" => "礁  溪",
							"263" => "狀  圍",
							"264" => "員  山",
							"265" => "羅  東",
							"266" => "三  星",
							"267" => "大  同",
							"268" => "五  結",
							"269" => "冬  山",
							"270" => "蘇  澳",
							"272" => "南  澳",
							"290" => "釣魚台列嶼",
							),
			"1005" => array(
							"300" => "新竹市",
							),
			"1006" => array(
							"302" => "竹  北",
							"303" => "湖  口",
							"304" => "新  豐",
							"305" => "新  埔",
							"306" => "關  西",
							"307" => "芎  林",
							"308" => "寶  山",
							"310" => "竹  東",
							"311" => "五  峰",
							"312" => "橫  山",
							"313" => "尖  石",
							"314" => "北  埔",
							"315" => "峨  眉",
							),
			"1007" => array(
							"320" => "中  壢",
							"324" => "平  鎮",
							"325" => "龍  潭",
							"326" => "楊  梅",
							"327" => "新  屋",
							"328" => "觀  音",
							"330" => "桃  園",
							"333" => "龜  山",
							"334" => "八  德",
							"335" => "大  溪",
							"336" => "復  興",
							"337" => "大  園",
							"338" => "蘆  竹",
							),
			"1008" => array(
							"350" => "竹  南",
							"351" => "頭  份",
							"352" => "三  灣",
							"353" => "南  庄",
							"354" => "獅  潭",
							"356" => "後  龍",
							"357" => "通  霄",
							"358" => "苑  裡",
							"360" => "苗  栗",
							"361" => "造  橋",
							"362" => "頭  屋",
							"363" => "公  館",
							"364" => "大  湖",
							"365" => "泰  安",
							"366" => "銅  鑼",
							"367" => "三  義",
							"368" => "西  湖",
							"369" => "卓  蘭",
							),
			"1009" => array(
							"400" => "中  區",
							"401" => "東  區",
							"402" => "南  區",
							"403" => "西  區",
							"404" => "北  區",
							"406" => "北屯區",
							"407" => "西屯區",
							"408" => "南屯區",
							"411" => "太平區",
							"412" => "大里區",
							"413" => "霧峰區",
							"414" => "烏日區",
							"420" => "豐原區",
							"421" => "后里區",
							"422" => "石岡區",
							"423" => "東勢區",
							"424" => "和平區",
							"426" => "新社區",
							"427" => "潭子區",
							"428" => "大雅區",
							"429" => "神岡區",
							"432" => "大肚區",
							"433" => "沙鹿區",
							"434" => "龍井區",
							"435" => "梧棲區",
							"436" => "清水區",
							"437" => "大甲區",
							"438" => "外埔區",
							"439" => "大安區",
							),
			"1010" => array(
							"500" => "彰  化",
							"502" => "芬  園",
							"503" => "花  壇",
							"504" => "秀  水",
							"505" => "鹿  港",
							"506" => "福  興",
							"507" => "線  西",
							"508" => "和  美",
							"509" => "伸  港",
							"510" => "員  林",
							"511" => "社  頭",
							"512" => "永  靖",
							"513" => "埔  心",
							"514" => "溪  湖",
							"515" => "大  村",
							"516" => "埔  鹽",
							"520" => "田  中",
							"521" => "北  斗",
							"522" => "田  尾",
							"523" => "埤  頭",
							"524" => "溪  州",
							"525" => "竹  塘",
							"526" => "二  林",
							"527" => "大  城",
							"528" => "方  苑",
							"530" => "二  水",
							),
			"1011" => array(
							"540" => "南  投",
							"541" => "中  寮",
							"542" => "草  屯",
							"544" => "國  姓",
							"545" => "埔  里",
							"546" => "仁  愛",
							"551" => "名  間",
							"552" => "集  集",
							"553" => "水  里",
							"555" => "魚  池",
							"556" => "信  義",
							"557" => "竹  山",
							"558" => "鹿  谷",
							),
			"1012" => array(
							"600" => "嘉義市",
							),
			"1013" => array(
							"602" => "番  路",
							"603" => "梅  山",
							"604" => "竹  崎",
							"605" => "阿里山",
							"606" => "中  埔",
							"607" => "大  埔",
							"608" => "水  上",
							"611" => "鹿  草",
							"612" => "太  保",
							"613" => "朴  子",
							"614" => "東  石",
							"615" => "六  腳",
							"616" => "新  港",
							"621" => "民  雄",
							"622" => "大  林",
							"623" => "溪  口",
							"624" => "義  竹",
							"625" => "布  袋",
							),
			"1014" => array(
							"630" => "斗  南",
							"631" => "大  埤",
							"632" => "虎  尾",
							"633" => "土  庫",
							"634" => "褒  忠",
							"635" => "東  勢",
							"636" => "台  西",
							"637" => "崙  背",
							"638" => "麥  寮",
							"640" => "斗  六",
							"643" => "林  內",
							"646" => "古  坑",
							"647" => "莿  桐",
							"648" => "西  螺",
							"649" => "二  崙",
							"651" => "北  港",
							"652" => "水  林",
							"653" => "口  湖",
							"654" => "四  湖",
							"655" => "元  長",
							),
			"1015" => array(
							"700" => "中西區",
							"701" => "東  區",
							"702" => "南  區",
							"704" => "北  區",
							"708" => "安平區",
							"709" => "安南區",
							"710" => "永康區",
							"711" => "歸仁區",
							"712" => "新化區",
							"713" => "左鎮區",
							"714" => "玉井區",
							"715" => "楠西區",
							"716" => "南化區",
							"717" => "仁德區",
							"718" => "關廟區",
							"719" => "龍崎區",
							"720" => "官田區",
							"721" => "麻豆區",
							"722" => "佳里區",
							"723" => "西港區",
							"724" => "七股區",
							"725" => "將軍區",
							"726" => "學甲區",
							"727" => "北門區",
							"730" => "新營區",
							"731" => "後壁區",
							"732" => "白河區",
							"733" => "東山區",
							"734" => "六甲區",
							"735" => "下營區",
							"736" => "柳營區",
							"737" => "鹽水區",
							"741" => "善化區",
							"742" => "大內區",
							"743" => "山上區",
							"744" => "新市區",
							"745" => "安定區",
							),
			"1016" => array(
							"800" => "新興區",
							"801" => "前金區",
							"802" => "苓雅區",
							"803" => "鹽埕區",
							"804" => "鼓山區",
							"805" => "旗津區",
							"806" => "前鎮區",
							"807" => "三民區",
							"811" => "楠梓區",
							"812" => "小港區",
							"813" => "左營區",
							"814" => "仁武區",
							"815" => "大社區",
							"820" => "岡山區",
							"821" => "路竹區",
							"822" => "阿蓮區",
							"823" => "田寮區",
							"824" => "燕巢區",
							"825" => "橋頭區",
							"826" => "梓官區",
							"827" => "彌陀區",
							"828" => "永安區",
							"829" => "湖內區",
							"830" => "鳳山區",
							"831" => "大寮區",
							"832" => "林園區",
							"833" => "鳥松區",
							"840" => "大樹區",
							"842" => "旗山區",
							"843" => "美濃區",
							"844" => "六龜區",
							"845" => "內門區",
							"846" => "杉林區",
							"847" => "甲仙區",
							"848" => "桃源區",
							"849" => "那瑪夏區",
							"851" => "茂林區",
							"852" => "茄萣區",
							),
			"1017" => array(
							"817" => "東  沙",
							"819" => "南  沙",
							),
			"1018" => array(
							"880" => "馬  公",
							"881" => "西  嶼",
							"882" => "望  安",
							"883" => "七  美",
							"884" => "白  沙",
							"885" => "湖  西",
							),
			"1019" => array(
							"900" => "屏  東",
							"901" => "三地門",
							"902" => "霧  臺",
							"903" => "瑪  家",
							"904" => "九  如",
							"905" => "里  港",
							"906" => "高  樹",
							"907" => "鹽  埔",
							"908" => "長  治",
							"909" => "麟  洛",
							"911" => "竹  田",
							"912" => "內  埔",
							"913" => "萬  丹",
							"920" => "潮  州",
							"921" => "泰  武",
							"922" => "來  義",
							"923" => "萬  巒",
							"924" => "崁  頂",
							"925" => "新  埤",
							"926" => "南  州",
							"927" => "林  邊",
							"928" => "東  港",
							"929" => "琉  球",
							"931" => "佳  冬",
							"932" => "新  園",
							"940" => "枋  寮",
							"941" => "枋  山",
							"942" => "春  日",
							"943" => "獅  子",
							"944" => "車  城",
							"945" => "牡  丹",
							"946" => "恆  春",
							"947" => "滿  州",
							),
			"1020" => array(
							"950" => "臺  東",
							"951" => "綠  島",
							"952" => "蘭  嶼",
							"953" => "延  平",
							"954" => "卑  南",
							"955" => "鹿  野",
							"956" => "關  山",
							"957" => "海  端",
							"958" => "池  上",
							"959" => "東  河",
							"961" => "成  功",
							"962" => "長  濱",
							"963" => "太麻里",
							"964" => "金  峰",
							"965" => "大  武",
							"966" => "達  仁",
							),
			"1021" => array(
							"970" => "花  蓮",
							"971" => "新  城",
							"972" => "秀  林",
							"973" => "吉  安",
							"974" => "壽  豐",
							"975" => "鳳  林",
							"976" => "光  復",
							"977" => "豐  濱",
							"978" => "瑞  穗",
							"979" => "萬  榮",
							"981" => "玉  里",
							"982" => "卓  溪",
							"983" => "富  里",
							),
			"1022" => array(
							"890" => "金  沙",
							"891" => "金  湖",
							"892" => "金  寧",
							"893" => "金  城",
							"894" => "烈  嶼",
							"896" => "烏  坵",
							),
			"1023" => array(
							"209" => "南  竿",
							"210" => "北  竿",
							"211" => "莒  光",
							"212" => "東  引",
							),
			/*  結束  */					
			);
		}
	}
?>